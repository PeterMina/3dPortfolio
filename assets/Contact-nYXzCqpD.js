import{j as a,C as H,r as h,h as _,q as F,P as C,v as q,m as w,s as j}from"./index-C3y0DDTF.js";import{S as V,s as v}from"./SectionWrapper-B3swWNo6.js";const M=()=>{const e=q("/3dPortfolio/planet/scene.gltf");return h.useEffect(()=>{e.scene.traverse(t=>{var s;t.isMesh&&((s=t.geometry)==null||s.center())})},[e]),a.jsxs("mesh",{children:[a.jsx("ambientLight",{intensity:.5}),a.jsx("directionalLight",{position:[5,5,5],intensity:1}),a.jsx("primitive",{object:e.scene,scale:2.5,"position-y":0,"rotation-y":0})]})},K=()=>a.jsxs(H,{shadows:!0,frameloop:"demand",gl:{preserveDrawingBuffer:!0},camera:{position:[-4,3,6],fov:45,near:.1,far:200},children:[a.jsxs(h.Suspense,{fallback:a.jsx(F,{}),children:[a.jsx(_,{autoRotate:!0,autoRotateSpeed:2,enableZoom:!1,maxPolarAngle:Math.PI/2,minPolarAngle:Math.PI/2}),a.jsx(M,{})]}),a.jsx(C,{all:!0})]});class g{constructor(t=0,s="Network Error"){this.status=t,this.text=s}}const O=()=>{if(!(typeof localStorage>"u"))return{get:e=>Promise.resolve(localStorage.getItem(e)),set:(e,t)=>Promise.resolve(localStorage.setItem(e,t)),remove:e=>Promise.resolve(localStorage.removeItem(e))}},i={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:O()},y=e=>e?typeof e=="string"?{publicKey:e}:e.toString()==="[object Object]"?e:{}:{},B=(e,t="https://api.emailjs.com")=>{if(!e)return;const s=y(e);i.publicKey=s.publicKey,i.blockHeadless=s.blockHeadless,i.storageProvider=s.storageProvider,i.blockList=s.blockList,i.limitRate=s.limitRate,i.origin=s.origin||t},k=async(e,t,s={})=>{const n=await fetch(i.origin+e,{method:"POST",headers:s,body:t}),o=await n.text(),r=new g(n.status,o);if(n.ok)return r;throw r},P=(e,t,s)=>{if(!e||typeof e!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t||typeof t!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!s||typeof s!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},D=e=>{if(e&&e.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},S=e=>e.webdriver||!e.languages||e.languages.length===0,N=()=>new g(451,"Unavailable For Headless Browser"),I=(e,t)=>{if(!Array.isArray(e))throw"The BlockList list has to be an array";if(typeof t!="string")throw"The BlockList watchVariable has to be a string"},A=e=>{var t;return!((t=e.list)!=null&&t.length)||!e.watchVariable},$=(e,t)=>e instanceof FormData?e.get(t):e[t],L=(e,t)=>{if(A(e))return!1;I(e.list,e.watchVariable);const s=$(t,e.watchVariable);return typeof s!="string"?!1:e.list.includes(s)},T=()=>new g(403,"Forbidden"),Y=(e,t)=>{if(typeof e!="number"||e<0)throw"The LimitRate throttle has to be a positive number";if(t&&typeof t!="string")throw"The LimitRate ID has to be a non-empty string"},G=async(e,t,s)=>{const n=Number(await s.get(e)||0);return t-Date.now()+n},R=async(e,t,s)=>{if(!t.throttle||!s)return!1;Y(t.throttle,t.id);const n=t.id||e;return await G(n,t.throttle,s)>0?!0:(await s.set(n,Date.now().toString()),!1)},E=()=>new g(429,"Too Many Requests"),J=async(e,t,s,n)=>{const o=y(n),r=o.publicKey||i.publicKey,m=o.blockHeadless||i.blockHeadless,b=o.storageProvider||i.storageProvider,d={...i.blockList,...o.blockList},u={...i.limitRate,...o.limitRate};return m&&S(navigator)?Promise.reject(N()):(P(r,e,t),D(s),s&&L(d,s)?Promise.reject(T()):await R(location.pathname,u,b)?Promise.reject(E()):k("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:r,service_id:e,template_id:t,template_params:s}),{"Content-type":"application/json"}))},W=e=>{if(!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},U=e=>typeof e=="string"?document.querySelector(e):e,Z=async(e,t,s,n)=>{const o=y(n),r=o.publicKey||i.publicKey,m=o.blockHeadless||i.blockHeadless,b=i.storageProvider||o.storageProvider,d={...i.blockList,...o.blockList},u={...i.limitRate,...o.limitRate};if(m&&S(navigator))return Promise.reject(N());const p=U(s);P(r,e,t),W(p);const c=new FormData(p);return L(d,c)?Promise.reject(T()):await R(location.pathname,u,b)?Promise.reject(E()):(c.append("lib_version","4.4.1"),c.append("service_id",e),c.append("template_id",t),c.append("user_id",r),k("/api/v1.0/email/send-form",c))},z={init:B,send:J,sendForm:Z,EmailJSResponseStatus:g},Q=()=>{const e=h.useRef(),[t,s]=h.useState({name:"",email:"",message:""}),[n,o]=h.useState(!1),[r,m]=h.useState({}),[b,d]=h.useState(!1),u=l=>{const{name:f,value:x}=l.target;s({...t,[f]:x}),r[f]&&m({...r,[f]:""})},p=()=>{const l={};return t.name.trim()||(l.name="Name is required"),t.email.trim()?/\S+@\S+\.\S+/.test(t.email)||(l.email="Email is invalid"):l.email="Email is required",t.message.trim()||(l.message="Message is required"),l},c=l=>{l.preventDefault();const f=p();if(Object.keys(f).length>0){m(f);return}o(!0),d(!1),z.send("service_9gvq101","template_49jw5yq",{from_name:t.name,from_email:t.email,to_email:"petermina6187@gmail.com",message:t.message},"3lDtCP31mFt_52s7F").then(()=>{o(!1),d(!0),s({name:"",email:"",message:""}),setTimeout(()=>d(!1),5e3)},x=>{o(!1),console.log(x),m({submit:"Failed to send message. Please try again."})})};return a.jsxs("div",{className:"xl:mt-12 xl:flex-row flex-col-reverse flex gap-10 overflow-hidden",children:[a.jsxs(w.div,{variants:v("left","tween",.2,1),className:"flex-[0.75] bg-black-100 p-8 rounded-2xl",children:[a.jsx("p",{className:j.sectionSubText,children:"Get in touch"}),a.jsx("h3",{className:j.sectionHeadText,children:"Contact."}),a.jsxs("form",{ref:e,onSubmit:c,className:"mt-12 flex flex-col gap-8",children:[b&&a.jsx("div",{className:"bg-green-500/20 border border-green-500 text-green-400 px-4 py-3 rounded-lg",children:"Thank you! I'll get back to you soon."}),r.submit&&a.jsx("div",{className:"bg-red-500/20 border border-red-500 text-red-400 px-4 py-3 rounded-lg",children:r.submit}),a.jsxs("label",{className:"flex flex-col",children:[a.jsx("span",{className:"text-white font-medium mb-4",children:"Your Name"}),a.jsx("input",{type:"text",name:"name",value:t.name,onChange:u,placeholder:"what's your name?",className:`bg-tertiary py-4 px-6 placeholder:text-secondary text-white rounded-lg outline-none border-none font-medium ${r.name?"border-2 border-red-500":""}`}),r.name&&a.jsx("span",{className:"text-red-500 text-sm mt-1",children:r.name})]}),a.jsxs("label",{className:"flex flex-col",children:[a.jsx("span",{className:"text-white font-medium mb-4",children:"Your Email"}),a.jsx("input",{type:"email",name:"email",value:t.email,onChange:u,placeholder:"what's your email?",className:`bg-tertiary py-4 px-6 placeholder:text-secondary text-white rounded-lg outline-none border-none font-medium ${r.email?"border-2 border-red-500":""}`}),r.email&&a.jsx("span",{className:"text-red-500 text-sm mt-1",children:r.email})]}),a.jsxs("label",{className:"flex flex-col",children:[a.jsx("span",{className:"text-white font-medium mb-4",children:"Your Message"}),a.jsx("textarea",{rows:5,type:"text",name:"message",value:t.message,onChange:u,placeholder:"what do you want to say?",className:`bg-tertiary py-4 px-6 placeholder:text-secondary text-white rounded-lg outline-none border-none font-medium ${r.message?"border-2 border-red-500":""}`}),r.message&&a.jsx("span",{className:"text-red-500 text-sm mt-1",children:r.message})]}),a.jsx("button",{type:"submit",disabled:n,className:"bg-tertiary py-3 px-8 outline-none w-fit text-white font-bold shadow-md shadow-primary rounded-xl hover:bg-tertiary/80 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:n?"Sending...":"Send"})]})]}),a.jsx(w.div,{variants:v("right","tween",.2,1),className:"xl:flex-1 xl:h-auto md:h-[550px] h-[350px]",children:a.jsx(K,{})})]})},te=V(Q,"contact");export{te as default};
